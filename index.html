<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä —Å –º–∞–≥–∞–∑–∏–Ω–æ–º –∏ —Å–∫–∏–Ω–∞–º–∏ + –±–æ–Ω—É—Å –∏ —Ñ–æ–Ω</title>
<style>
  /* --- –§–æ–Ω —Å –Ω–µ–±–æ–º --- */
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow-x: hidden;
    font-family: Arial, sans-serif;
    color: #eee;
    position: relative;
    background: #121212;
  }

  #backgroundContainer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    z-index: 0;
    filter: blur(5px);
    opacity: 0.5;
    pointer-events: none;
  }

  #backgroundContainer img#sky {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    user-select: none;
  }

  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–∞–¥–∞—é—â–∏—Ö –º–æ–Ω–µ—Ç */
  #coinFallContainer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    overflow: visible;
    z-index: 1;
  }

  /* –°—Ç–∏–ª–∏ –º–æ–Ω–µ—Ç */
  .fallingCoin {
    position: absolute;
    top: -50px;
    width: 24px;
    height: 24px;
    user-select: none;
    pointer-events: none;
    animation-name: fall;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }

  /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è –º–æ–Ω–µ—Ç—ã */
  @keyframes fall {
    0% {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(110vh) rotate(360deg);
      opacity: 0;
    }
  }

  /* --- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–≤–µ—Ä—Ö --- */
  #appContainer {
    position: relative;
    z-index: 10;
    max-width: 700px;
    margin: auto;
    padding: 20px;
    text-align: center;
  }

  #clicker {
    border-radius: 50%;
    width: 120px;
    height: 120px;
    border: 4px solid #eee;
    background: #333;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 48px;
    cursor: pointer;
    margin: 20px auto;
    user-select: none;
    transition: background 0.3s, box-shadow 0.3s;
    position: relative;
    z-index: 10;
  }
  #clicker:hover {
    background: #555;
    box-shadow: 0 0 10px #ffcc00;
  }
  /* –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–∞ */
  @keyframes clickAnim {
    0% {
      transform: scale(1);
      box-shadow: 0 0 0px #ffcc00;
    }
    50% {
      transform: scale(0.85);
      box-shadow: 0 0 15px #ffcc00;
    }
    100% {
      transform: scale(1);
      box-shadow: 0 0 0px #ffcc00;
    }
  }
  #clicker.animate {
    animation: clickAnim 0.3s ease;
  }

  #score {
    font-size: 24px;
    margin: 10px 0;
    position: relative;
    z-index: 10;
  }
  #autoclickerToggle {
    margin: 10px 0 20px 0;
    font-size: 16px;
    position: relative;
    z-index: 10;
  }
  #speedControl {
    width: 200px;
    position: relative;
    z-index: 10;
  }
  #clickSpeedDisplay {
    position: relative;
    z-index: 10;
  }
  #upgrades {
    margin-top: 20px;
    position: relative;
    z-index: 10;
  }
  button {
    background: #222;
    color: #eee;
    border: none;
    padding: 8px 16px;
    margin-top: 10px;
    cursor: pointer;
    border-radius: 8px;
    transition: background 0.3s;
    font-size: 12px;
  }
  button:hover {
    background: #444;
  }
  #skins {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    max-width: 600px;
    margin: 20px auto 0 auto;
    position: relative;
    z-index: 10;
  }
  .skin {
    border: 2px solid #444;
    border-radius: 12px;
    width: 80px;
    height: 80px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
    transition: border-color 0.3s;
    flex-direction: column;
    background: #222;
  }
  .skin.selected {
    border-color: #ffcc00;
    box-shadow: 0 0 10px #ffcc00;
  }
  /* –°–∫–∏–Ω—ã —Å—Ç–∏–ª–∏ */
  .skin.cyberpunk {
    background: linear-gradient(135deg, #0ff, #f0f);
    box-shadow: 0 0 10px #0ff;
    color: #000;
    font-weight: bold;
  }
  .skin.casino {
    background: #b22222;
    box-shadow: 0 0 10px #ff0000;
    color: #fff;
    font-weight: bold;
  }
  .skin.steam {
    background: #2a475e;
    box-shadow: 0 0 10px #5a9bd4;
    color: #d0e7ff;
    font-weight: bold;
  }

  /* –ë–æ–Ω—É—Å –∫—Ä—É–∂–æ–∫ */
  #bonusCircle {
    position: fixed;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: gold;
    color: #333;
    font-weight: bold;
    font-size: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 0 15px 5px gold;
    z-index: 1000;
    animation: pulse 1.5s infinite;
  }
  @keyframes pulse {
    0% {
      transform: scale(1);
      box-shadow: 0 0 15px 5px gold;
    }
    50% {
      transform: scale(1.1);
      box-shadow: 0 0 25px 10px gold;
    }
    100% {
      transform: scale(1);
      box-shadow: 0 0 15px 5px gold;
    }
  }
</style>
</head>
<body>

<!-- –§–æ–Ω -->
<div id="backgroundContainer">
  <img id="sky" src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1920&q=80" alt="–ù–æ—á–Ω–æ–µ –Ω–µ–±–æ" />
</div>

<!-- –ü–∞–¥–∞—é—â–∏–µ –º–æ–Ω–µ—Ç—ã -->
<div id="coinFallContainer"></div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
<div id="appContainer">
  <h1>–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä</h1>

  <div id="clicker" title="–ù–∞–∂–º–∏ –∏–ª–∏ –≤–∫–ª—é—á–∏ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä">üí∞</div>

  <div id="score">–ë–∞–ª–∞–Ω—Å: 0</div>

  <label>
    <input type="checkbox" id="autoclickerToggle" />
    –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä
  </label>

  <div>
    –°–∫–æ—Ä–æ—Å—Ç—å –∫–ª–∏–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É: <span id="clickSpeedDisplay">0.0</span>
  </div>
  <input type="range" id="speedControl" min="0" max="10" step="0.1" value="0" disabled />

  <div id="upgrades">
    <button id="buySpeed">–ö—É–ø–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (+0.1 –∫–ª–∏–∫/—Å–µ–∫) ‚Äî –¶–µ–Ω–∞: 10</button>
  </div>

  <h2>–ú–∞–≥–∞–∑–∏–Ω —Å–∫–∏–Ω–æ–≤</h2>
  <div id="skins"></div>
</div>

<!-- –ë–æ–Ω—É—Å –∫—Ä—É–∂–æ–∫ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->

<script>
  // –ò–∫–æ–Ω–∫–∏ –¥–ª—è —Å–∫–∏–Ω–æ–≤
  const skinIcons = {
    base1: "üí∞",
    base2: "ü™ô",
    base3: "üíµ",
    cyberpunk: "üåê",
    casino: "üé∞",
    steam: "‚öôÔ∏è",
  };

  const skinsData = [
    { id: "base1", name: "–ë–∞–∑–æ–≤—ã–π 1", icon: skinIcons.base1, price: 0 },
    { id: "base2", name: "–ë–∞–∑–æ–≤—ã–π 2", icon: skinIcons.base2, price: 5 },
    { id: "base3", name: "–ë–∞–∑–æ–≤—ã–π 3", icon: skinIcons.base3, price: 5 },
    { id: "cyberpunk", name: "–ö–∏–±–µ—Ä–ø–∞–Ω–∫", icon: skinIcons.cyberpunk, price: 15, style: "cyberpunk" },
    { id: "casino", name: "–ö–∞–∑–∏–Ω–æ", icon: skinIcons.casino, price: 20, style: "casino" },
    { id: "steam", name: "–°—Ç–∏–º", icon: skinIcons.steam, price: 25, style: "steam" },
  ];

  let score = 0;
  let clickSpeed = 0;
  let autoclickerOn = false;
  let ownedSkins = new Set(["base1"]);
  let currentSkin = "base1";
  let speedUpgradeCost = 10;

  const scoreEl = document.getElementById("score");
  const clickerEl = document.getElementById("clicker");
  const autoclickerToggle = document.getElementById("autoclickerToggle");
  const speedControl = document.getElementById("speedControl");
  const clickSpeedDisplay = document.getElementById("clickSpeedDisplay");
  const buySpeedBtn = document.getElementById("buySpeed");
  const skinsContainer = document.getElementById("skins");

  function updateUI() {
    scoreEl.textContent = `–ë–∞–ª–∞–Ω—Å: ${score.toFixed(1)}`;
    clickSpeedDisplay.textContent = clickSpeed.toFixed(1);
    speedControl.value = clickSpeed;
    speedControl.disabled = !autoclickerOn;
    buySpeedBtn.textContent = `–ö—É–ø–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (+0.1 –∫–ª–∏–∫/—Å–µ–∫) ‚Äî –¶–µ–Ω–∞: ${speedUpgradeCost}`;

    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É —Å–∫–∏–Ω–∞ –∏ —Å—Ç–∏–ª—å
    clickerEl.textContent = skinIcons[currentSkin];
    clickerEl.className = "";
    const skinObj = skinsData.find(s => s.id === currentSkin);
    if (skinObj && skinObj.style) {
      clickerEl.classList.add(skinObj.style);
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–∫–∏–Ω—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ
    Array.from(skinsContainer.children).forEach(child => {
      const skinId = child.dataset.id;
      if (ownedSkins.has(skinId)) {
        child.classList.add("owned");
        child.style.borderColor = (skinId === currentSkin) ? "#ffcc00" : "#444";
        child.classList.toggle("selected", skinId === currentSkin);
        child.querySelector("button").style.display = "none";
      } else {
        child.classList.remove("owned", "selected");
        child.style.borderColor = "#444";
        child.querySelector("button").style.display = "inline-block";
      }
    });
  }

  function addPoints(amount) {
    score += amount;
    updateUI();
  }

  clickerEl.addEventListener("pointerdown", () => {
    addPoints(1);

    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
    clickerEl.classList.remove("animate");
    void clickerEl.offsetWidth;
    clickerEl.classList.add("animate");
  });

  autoclickerToggle.addEventListener("change", () => {
    autoclickerOn = autoclickerToggle.checked;
    speedControl.disabled = !autoclickerOn;
  });

  speedControl.addEventListener("input", () => {
    clickSpeed = parseFloat(speedControl.value);
    updateUI();
  });

  buySpeedBtn.addEventListener("pointerdown", () => {
    if (score >= speedUpgradeCost) {
      score -= speedUpgradeCost;
      clickSpeed += 0.1;
      speedUpgradeCost = Math.floor(speedUpgradeCost * 1.5);
      updateUI();
    } else {
      alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");
    }
  });

  // –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä —Ç–∞–π–º–µ—Ä (–∫–∞–∂–¥—ã–µ 100ms –Ω–∞—á–∏—Å–ª—è–µ–º –¥–æ–ª—é –∫–ª–∏–∫–æ–≤)
  setInterval(() => {
    if (autoclickerOn && clickSpeed > 0) {
      addPoints(clickSpeed / 10);
    }
  }, 100);

  // –ú–∞–≥–∞–∑–∏–Ω —Å–∫–∏–Ω–æ–≤
  function renderSkins() {
    skinsContainer.innerHTML = "";
    skinsData.forEach(skin => {
      const div = document.createElement("div");
      div.classList.add("skin");
      if (skin.style) div.classList.add(skin.style);
      div.dataset.id = skin.id;
      div.title = `${skin.name}\n–¶–µ–Ω–∞: ${skin.price}`;
      
      const iconSpan = document.createElement("span");
      iconSpan.textContent = skin.icon;
      iconSpan.style.fontSize = "36px";
      div.appendChild(iconSpan);

      const btn = document.createElement("button");
      btn.textContent = "–ö—É–ø–∏—Ç—å";
      div.appendChild(btn);

      btn.addEventListener("pointerdown", (e) => {
        e.stopPropagation();
        if (score >= skin.price) {
          score -= skin.price;
          ownedSkins.add(skin.id);
          updateUI();
        } else {
          alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");
        }
      });

      div.addEventListener("pointerdown", () => {
        if (ownedSkins.has(skin.id)) {
          currentSkin = skin.id;
          updateUI();
        } else {
          alert("–°–Ω–∞—á–∞–ª–∞ –∫—É–ø–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫–∏–Ω!");
        }
      });

      skinsContainer.appendChild(div);
    });
  }

  renderSkins();
  updateUI();

  // --- –ë–æ–Ω—É—Å +10 –º–æ–Ω–µ—Ç ---

  function createBonusCircle() {
    const bonus = document.createElement("div");
    bonus.id = "bonusCircle";
    bonus.textContent = "+10";

    const padding = 70;
    const maxX = window.innerWidth - padding;
    const maxY = window.innerHeight - padding;
    const posX = Math.floor(Math.random() * maxX);
    const posY = Math.floor(Math.random() * maxY);

    bonus.style.left = posX + "px";
    bonus.style.top = posY + "px";

    document.body.appendChild(bonus);

    bonus.addEventListener("pointerdown", () => {
      score += 10;
      updateUI();
      bonus.remove();
    });

    setTimeout(() => {
      if (document.body.contains(bonus)) {
        bonus.remove();
      }
    }, 15000);
  }

  setInterval(() => {
    createBonusCircle();
  }, 60000);

  createBonusCircle();

  // --- –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö –º–æ–Ω–µ—Ç ---

  const coinFallContainer = document.getElementById("coinFallContainer");

  // –°–æ–∑–¥–∞–µ–º –æ–¥–Ω—É –ø–∞–¥–∞—é—â—É—é –º–æ–Ω–µ—Ç—É
  function createFallingCoin() {
    const coin = document.createElement("div");
    coin.classList.add("fallingCoin");
    coin.textContent = "ü™ô"; // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ª—é–±—É—é –º–æ–Ω–µ—Ç—É
    coin.style.left = Math.random() * window.innerWidth + "px";
    coin.style.animationDuration = (4 + Math.random() * 4) + "s";
    coin.style.fontSize = (16 + Math.random() * 16) + "px";
    coin.style.animationDelay = Math.random() * 5 + "s";

    coinFallContainer.appendChild(coin);

    // –£–¥–∞–ª—è–µ–º –º–æ–Ω–µ—Ç—É –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
    coin.addEventListener("animationend", () => {
      coin.remove();
      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏
      createFallingCoin();
    });
  }

  // –°–æ–∑–¥–∞–µ–º —Å—Ä–∞–∑—É 20 –º–æ–Ω–µ—Ç
  for (let i = 0; i < 20; i++) {
    createFallingCoin();
  }

</script>

</body>
</html>
